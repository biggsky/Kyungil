<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
</head>
<body>
    
</body>
<script>
    // web3 라이브러리
    // RPC 통신을 편하게 사용할 수 있게 도와주는 web3 라이브러리
    // 이더리움 재단에서 지원한다.

    const web3 = new Web3("http://127.0.0.1:8545");

    web3.eth.getBalance("0xf4D0f6aeE612336a3ebDdC318F159CBb50ae779e").then((data)=>{
    // web3.eth.getBalance("0xa3740d6bfA2F32Fd714867bE30C67AE89319CeeA").then((data)=>{
        console.log(data);
        const value = web3.utils.fromWei(data);
        console.log("value:", value);
        // wei 라는 단위로 나옴
        // 수수료를 계산하기 위해 사용하는 단위
        // 공 18개를 뺌

    })

    web3.eth.sendTransaction({
        from : "0xf4D0f6aeE612336a3ebDdC318F159CBb50ae779e",
        to : "0xa3740d6bfA2F32Fd714867bE30C67AE89319CeeA",

        // 10eth => wei 단위로 변환
        // value : web3.utils.toWei("10", "ether"),
        value : "100",
    }).then(console.log)
    // 웨이 단위


    // (0) 0xf4D0f6aeE612336a3ebDdC318F159CBb50ae779e (100 ETH)
    // (1) 0xa3740d6bfA2F32Fd714867bE30C67AE89319CeeA (100 ETH)
    // (2) 0x8749ce56377CF253BA58f0F90E41C8c6AdD32655 (100 ETH)
    // (3) 0x60042977Ed5da0f2C8a8a173723066204331A620 (100 ETH)
    // (4) 0x1Add50518F52Dd755491F82cAFA6CCcB12dBECcf (100 ETH)
    // (5) 0x8805f25dCFD30603d04A09A95FEC644241f05071 (100 ETH)
    // (6) 0x4EcAB56EAB04028C29Cf49701dEf80c868EdDd60 (100 ETH)
    // (7) 0xECf2c3e9e16586CBfEd9c0c1018293Ed0164B293 (100 ETH)
    // (8) 0xaeB67aC68eA762bB18c42b24C307C6087CFF86Ba (100 ETH)
    // (9) 0x99A57862815d0140Fd5C83624310A2E11e3b8231 (100 ETH)
    
    // 추정되는 가스비(가스값)
    // web3.eth.estimateGas({data : "0x60806040523480156100115760006000fd5b505b5b610019565b61016b806100286000396000f3fe60806040523480156100115760006000fd5b506004361061003b5760003560e01c80632096525514610041578063552410771461005f5761003b565b60006000fd5b61004961007b565b60405161005691906100f2565b60405180910390f35b610079600480360381019061007491906100b7565b61008d565b005b6000600060005054905061008a565b90565b8060006000508190909055505b5056610134565b6000813590506100b081610119565b5b92915050565b6000602082840312156100ca5760006000fd5b60006100d8848285016100a1565b9150505b92915050565b6100eb8161010e565b82525b5050565b600060208201905061010760008301846100e2565b5b92915050565b60008190505b919050565b6101228161010e565b811415156101305760006000fd5b5b50565bfea26469706673582212206dabe0df5321b8fede509526931bcac2be9e22b38d2d1f5759a15b51d25b302c64736f6c63430008000033" }).then(console.log)
    
    // bin 안에있는 내용은 byte 코드
        
    // CA를 생성
    // 솔리디티로 작성한 코드를 스마트컨트랙트 배포
    // web3.eth.sendTransaction({
    //     from : "0xf4D0f6aeE612336a3ebDdC318F159CBb50ae779e",
    //     // account 값들중 한개

    //     gas : "231573",
    //     // 트랜잭션이 처리될 때 사용될 최대 가스량을 지정. 너무 많아도, 너무 적어도 안됨
    //     data : "60806040523480156100115760006000fd5b505b5b610019565b61016b806100286000396000f3fe60806040523480156100115760006000fd5b506004361061003b5760003560e01c80632096525514610041578063552410771461005f5761003b565b60006000fd5b61004961007b565b60405161005691906100f2565b60405180910390f35b610079600480360381019061007491906100b7565b61008d565b005b6000600060005054905061008a565b90565b8060006000508190909055505b5056610134565b6000813590506100b081610119565b5b92915050565b6000602082840312156100ca5760006000fd5b60006100d8848285016100a1565b9150505b92915050565b6100eb8161010e565b82525b5050565b600060208201905061010760008301846100e2565b5b92915050565b60008190505b919050565b6101228161010e565b811415156101305760006000fd5b5b50565bfea26469706673582212206dabe0df5321b8fede509526931bcac2be9e22b38d2d1f5759a15b51d25b302c64736f6c63430008000033"
    // }).then(console.log);

    // contractAddress : ""
    // CA 매핑되어있는 코드가 활성화되고 컨트랙트 코드가 실행된다.

    // call과 send

    // 트랜잭션을 발생시킬때는 send
    // 조회를 할때는 call로 값을 조회

</script>
</html>